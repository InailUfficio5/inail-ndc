openapi: 3.0.3
info:
  title: Schema della Denuncia Variazione Retribuzione Pescatori
  version: 202306.27.00
  x-summary: Schema della denuncia di variazione retribuzione pescatori compatibile con l'ontologia INAIL.
  license:
    name: CC BY 4.0
    url: https://creativecommons.org/licenses/by/4.0/
  termsOfService: https://creativecommons.org/licenses/by/4.0/
  contact:
    name: Anna Maria De Paoli
    email: a.depaoli@inail.it
   # url:
  description: |-
   Denuncia che consente di comunicare la variazione della retribuzione per l’anno di riferimento, nel caso in cui l’utente intenda pagare il premio sulla base di una retribuzione diversa da quella minima convenzionale stabilita per legge, purché la retribuzione prescelta sia superiore a quest’ultima. Tale comunicazione deve avvenire se la scelta non sia stata effettuata in fase di iscrizione o con l’invio degli elenchi annuali.

    La metadatazione semantica degli schemi si basa sul documento
    [REST API Linked Data keywords](https://www.ietf.org/archive/id/draft-polli-restapi-ld-keywords-00.html)
    che introduce le keyword x-jsonld-type e x-jsonld-context.
paths: {}
servers: []
tags: []
components:
  schemas:
    SedeInail:
      $ref: "https://raw.githubusercontent.com/InailUfficio5/inail-ndc/main/assets/schemas/sede-inail/latest/sede-inail.oas3.yaml#/components/schemas/SedeInail"
    SoggettoAssicurante:
      $ref: "https://raw.githubusercontent.com/InailUfficio5/inail-ndc/main/assets/schemas/soggetto-assicurante/latest/soggetto-assicurante.oas3.yaml#/components/schemas/SoggettoAssicurante"
    PolizzaPescatori:
      $ref: "https://raw.githubusercontent.com/InailUfficio5/inail-ndc/main/assets/schemas/polizza-pescatori/latest/polizza-pescatori.oas3.yaml#/components/schemas/PolizzaPescatori"

    NumeroPraticaDenunciaVariazione:
      type: number
      format: double
      x-refersTo: https://w3id.org/italia/work-accident/onto/core/numeroPraticaDenuncia
      description:
          Campo tecnico finalizzato all'individuazione univoca di ogni record dell'entità.
          Associato a https://w3id.org/italia/work-accident/onto/core/numeroPraticaDenuncia.
      example: 11100.64

    DenunciaVariazionePescatori:
      type: object
      x-jsonld-type: https://w3id.org/italia/work-accident/onto/proc17_fishermen/DenunciaVariazioneRetribuzionePescatoriINAIL
      x-jsonld-context:
        "@vocab": "https://w3id.org/italia/work-accident/onto/proc17_fishermen/"
        numero_pratica_denuncia_variazione: numeroPraticaDenuncia
        data_denuncia_variazione: dataDenuncia
        data_protocollazione_denuncia_variazione: dataProtocollazioneDenuncia
        codice_esito_pratica: codiceEsitoPratica
        descrizione_esito_pratica: descrizioneEsitoPratica
        tipo_denuncia: tipoDiDenuncia
        #denuncia_ha_variazione_retribuzione:
        #  "@id": denunciaHaVariazioneRetribuzione
      additionalProperties: true
      description:
         Questo schema rappresenta la denuncia di variazione retribuzione dei pescatori ed è associato a https://w3id.org/italia/work-accident/onto/proc17_fishermen/DenunciaVariazioneRetribuzionePescatoriINAIL.
      required:
      - numero_pratica_denuncia_variazione
      - data_denuncia_variazione
      - data_protocollazione_denuncia_variazione
      - codice_esito_pratica
      - descrizione_esito_pratica
      - tipo_denuncia
      properties:
        numero_pratica_denuncia_variazione:
          $ref: "#/components/schemas/NumeroPraticaDenunciaVariazione"
        data_denuncia_variazione:
          $ref: "#/components/schemas/DataDenunciaVariazione"
        data_protocollazione_denuncia_variazione:
          $ref: "#/components/schemas/DataProtocollazioneDenunciaVariazione"
        codice_esito_pratica:
          $ref: "#/components/schemas/CodiceEsitoPratica"
        descrizione_esito_pratica:
         $ref: "#/components/schemas/DescrizioneEsitoPratica"
        tipo_denuncia:
          $ref: "#/components/schemas/TipoDenuncia"
        #denuncia_ha_variazione_retribuzione:
        #  type: object
        #  items:
        #    $ref: "#/components/schemas/VariazioneRetribuzionePescatoriINAIL"
        relativa_a_soggetto:
          $ref: "#/components/schemas/RelativaSoggetto"
        relativa_a_sede_inail:
          $ref: "#/components/schemas/RelativaSedeInail"
        relativa_a_polizza:
          $ref: "#/components/schemas/RelativaPolizza"
      example:
        numero_pratica_denuncia_variazione:
          $ref: "#/components/schemas/NumeroPraticaDenunciaVariazione/example"
        data_denuncia_variazione:
          $ref: "#/components/schemas/DataDenunciaVariazione/example"
        data_protocollazione_denuncia_variazione:
          $ref: "#/components/schemas/DataProtocollazioneDenunciaVariazione/example"
        codice_esito_pratica:
          $ref: "#/components/schemas/CodiceEsitoPratica/example"
        descrizione_esito_pratica:
          $ref: "#/components/schemas/DescrizioneEsitoPratica/example"
        tipo_denuncia:
          $ref: "#/components/schemas/TipoDenuncia/example"
        #denuncia_ha_variazione_retribuzione:
        #  retribuzione_prescelta: 1432.57
        #  data_variazione_retribuzione: '2019-11-01'
        relativa_a_soggetto:
          $ref: "https://raw.githubusercontent.com/InailUfficio5/inail-ndc/main/assets/schemas/soggetto-assicurante/latest/soggetto-assicurante.oas3.yaml#/components/schemas/SoggettoAssicurante/example"
        relativa_a_sede_inail:
          $ref: "https://raw.githubusercontent.com/InailUfficio5/inail-ndc/main/assets/schemas/sede-inail/latest/sede-inail.oas3.yaml#/components/schemas/SedeInail/example"
        relativa_a_polizza:
          $ref: "https://raw.githubusercontent.com/InailUfficio5/inail-ndc/main/assets/schemas/polizza-pescatori/latest/polizza-pescatori.oas3.yaml#/components/schemas/PolizzaPescatori/example"


    #VariazioneRetribuzionePescatoriINAIL:
    #  type: object
    #  x-jsonld-type: https://w3id.org/italia/work-accident/onto/proc17_fishermen/VariazioneRetribuzionePescatoriINAIL
    #  x-jsonld-context:
    #    "@vocab": "https://w3id.org/italia/work-accident/onto/proc17_fishermen/"
    #    retribuzione_prescelta: retribuzionePrescelta
    #    data_variazione_retribuzione: dataVariazioneRetribuzione
    #  additionalProperties: true
    #  description:
    #      Questo schema rappresenta una variazione di retribuzione di un pescatore ed è associato ad https://w3id.org/italia/work-accident/onto/proc17_fishermen/VariazioneRetribuzionePescatoriINAIL.
    #  required:
    #    - retribuzione_prescelta
    #    - data_variazione_retribuzione
    #  properties:
    #    retribuzione_prescelta:
    #      type: number
    #      format: double
    #    data_variazione_retribuzione:
    #      type: string
    #      format: date
    #      pattern: ([0-9]{4})-([0-1][0-9])-([0-3][0-9])
    #  example:
    #    retribuzione_prescelta: 1432.57
    #    data_variazione_retribuzione: '2019-11-01'

    DataDenunciaVariazione:
      type: string
      format: date
      x-refersTo: https://w3id.org/italia/work-accident/onto/core/dataDenuncia
      pattern: ([0-9]{4})-([0-1][0-9])-([0-3][0-9])
      example: '2019-10-28'
    DataProtocollazioneDenunciaVariazione:
      type: string
      format: date
      x-refersTo: https://w3id.org/italia/work-accident/onto/core/dataProtocollazioneDenuncia
      pattern: ([0-9]{4})-([0-1][0-9])-([0-3][0-9])
      example: '2019-10-30'
    CodiceEsitoPratica:
      type: string
      x-refersTo: https://w3id.org/italia/work-accident/onto/core/codiceEsitoPratica
      maxLength: 10
      example: 'C'
    DescrizioneEsitoPratica:
      type: string
      x-refersTo: https://w3id.org/italia/work-accident/onto/core/descrizioneEsitoPratica
      maxLength: 250
      example: 'Confermata'
    TipoDenuncia:
      type: string
      x-refersTo: https://w3id.org/italia/work-accident/onto/core/tipoDiDenuncia
      maxLength: 200
      example: 'DENUNCIA VARIAZIONE'

    RelativaSoggetto:
      type: object
      x-refersTo: https://w3id.org/italia/work-accident/onto/core/denunciaRelativaASoggettoAssicurante
      items:
        $ref: "#/components/schemas/SoggettoAssicurante"
    RelativaSedeInail:
      type: object
      x-refersTo: https://w3id.org/italia/work-accident/onto/core/denunciaRelativaASedeINAIL
      items:
        $ref: "#/components/schemas/SedeInail"
    RelativaPolizza:
      type: object
      x-refersTo: https://w3id.org/italia/work-accident/onto/core/denunciaRelativaAPolizza
      items:
        $ref: "#/components/schemas/PolizzaPescatori"